{
  "/" : [
    {
      "method" : "GET",
      "expects" : {},
      "returns" : {
        "_code" : [
          "SUCCESS_EMPTY"
        ]
      }
    }
  ],
  "/register" : [
    {
      "method" : "POST",
      "expects" : {
        "username" : "string",
        "shown_username" : "string",
        "password" : "string",
        "email" : "string",
        "phone" : "string"
      },
      "returns" : {
        "_code" : [
          "SUCCESS",
          "ERROR_MISSING_PARAMETERS",
          "ERROR_USER_ALREADY_EXISTS",
          "ERROR_BAD_USERNAME",
          "ERROR_BAD_SHOWN_USERNAME",
          "ERROR_BAD_PASSWORD",
          "ERROR_BAD_EMAIL",
          "ERROR_BAD_PHONE",
          "ERROR_USER_ALREADY_LOGGED_IN"
        ],
        "id" : "int"
      }
    }
  ],
  "/login" : [
    {
      "method" : "POST",
      "expects" : {
        "username" : "string",
        "password" : "string"
      },
      "returns" : {
        "_code" : [
          "SUCCESS",
          "ERROR_MISSING_PARAMETERS",
          "ERROR_USER_NOT_FOUND",
          "ERROR_PASSWORD_INCORRECT",
          "ERROR_USER_ALREADY_LOGGED_IN"
        ],
        "id" : "int"
      }
    }
  ],
  "/password-reset-request" : [
    {
      "method" : "POST",
      "expects" : {
        "username" : "string"
      },
      "returns" : {
        "_code" : [
          "SUCCESS",
          "ERROR_MISSING_PARAMETERS",
          "ERROR_USER_NOT_FOUND"
        ]
      }
    }
  ],
  "password-reset-submit" : [
    {
      "method" : "POST",
      "expects" : {
        "username" : "string",
        "code" : "string",
        "new_password" : "string"
      },
      "returns" : {
        "_code" : [
          "SUCCESS",
          "ERROR_MISSING_PARAMETERS",
          "ERROR_USER_NOT_FOUND",
          "ERROR_BAD_CODE",
          "ERROR_INCORRECT_CODE",
          "ERROR_OUT_OF_TIME",
          "ERROR_BAD_PASSWORD"
        ],
        "cookie" : "string"
      }
    }
  ],
  "submit-post" : [
    {
      "format" : "multipart/form-data",
      "method" : "POST",
      "expects" : {
        "section" : "string",
        "name" : "string/null",
        "description" : "string",
        "user" : "int/id",
        "file" : "file"
      },
      "returns" : {
        "_code" : [
          "SUCCESS"
        ]
      }
    }
  ],
  "post-discovery" : [
    {
      "method" : "POST",
      "expects" : {
        "section" : "string",
        "number" : "int",
        "id" : "int",
        "no_content?" : "str/boolean/present"
      },
      "returns" : {
        "_code" : [
          "SUCCESS"
        ],
        "data" : {
          "section" : "string",
          "time" : "int",
          "posts[]" : {
            "id" : "int",
            "section" : "string",
            "name" : "string",
            "user" : "string",
            "content" : "string/base64",
            "description" : "string"
          }
        }
      }
    }
  ],
  "submit-comment" : [
    {
      "method" : "POST",
      "expects" : {
        "post_id" : "int",
        "user" : "int",
        "comment" : "string"
      },
      "returns" : {
        "_code" : [
          "SUCCESS"
        ]
      }
    }
  ],
  "get-post" : [
    {
      "method" : "POST",
      "expects" : {
        "id" : "int"
      },
      "returns" : {
        "_code" : [
          "SUCCESS"
        ],
        "posts[]" : {
          "id" : "int",
          "section" : "string",
          "name" : "string",
          "user" : "string",
          "content" : "string/base64",
          "description" : "string",
          "comments" : [
            {
              "id" : "int",
              "user" : "string",
              "comment" : "string"
            }
          ]
        }
      }
    }
  ]
}

